{"version":3,"sources":["components/Disk.tsx","components/Stack.tsx","defaultSettings.ts","components/SettingsSlider.tsx","util/optimalMoves.ts","util/estimatedTime.ts","util/compareObjects.ts","components/Button.tsx","components/Menu.tsx","components/KeyBind.tsx","components/Settings.tsx","components/Timer.tsx","components/NavBar.tsx","assets/icon.png","util/highScore.ts","components/Win.tsx","components/Info.tsx","components/Game.tsx","App.tsx","util/isMobileOrTablet.ts","index.tsx"],"names":["Disk","styled","div","attrs","$color","$width","$height","style","backgroundColor","width","height","p","$holding","Wrapper","PegWrapper","Peg","Stack","showPeg","children","defaultSettings","disks","stacks","showPegs","illegalMoves","blindfold","keyBind21","keyBind12","keyBind13","keyBind31","keyBind32","keyBind23","keyReset","keyUndo","LongInput","input","SettingsSlider","settings","setSettings","settingsKey","min","max","disabled","resetGame","type","value","onChange","event","newSettings","parseInt","target","optimalMoves","Infinity","moves","moveIncrement","i","estimatedTime","seconds","number","unit","minutes","hours","days","getNumberAndUnit","toFixed","compareObjects","a","b","JSON","stringify","Button","button","Menu","title","Title","h1","KeyBind","Input","onKeyDown","e","key","toLowerCase","stopPropagation","preventDefault","Warning","RightAligned","td","Settings","resetSettings","endTime","length","checked","onClick","Timer","startTime","useState","dummy","setDummy","useEffect","interval","setInterval","clearInterval","remainingTime","Date","now","NavBar","numMoves","undo","reset","toggleSettings","toggleInfo","src","alt","Controls","nav","Info","makeKey","getHighScore","score","localStorage","getItem","Win","Text","Emoji","NoBulletList","span","ul","Link","CenterButton","onClose","href","Game","Array","from","_","setStacks","holding","setHolding","setMoves","setStartTime","setEndTime","settingsShown","setSettingsShown","infoShown","setInfoShown","rerender","stacksRef","useRef","checkForWin","setItem","toString","setHighScore","onKeyPress","newStacks","move","to","disk","shift","concat","unshift","numberKey","Number","isNaN","document","removeEventListener","useCallback","push","getWidth","size","current","maxWidth","firstChild","offsetWidth","getColor","newMoves","lastMove","splice","resize","x","addEventListener","window","rawSettings","parse","stackWidth","diskHeight","Math","innerHeight","visibility","Stacks","ref","map","stack","index","App","userAgent","navigator","vendor","opera","test","slice","isMobileOrTablet","alert","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1dd77db1.chunk.js","sourcesContent":["import styled from 'styled-components';\n\ntype DiskProps = {\n    $width: number;\n    $height: number;\n    $color: number;\n    $holding?: boolean;\n};\n\nconst Disk = styled.div.attrs<DiskProps>(({$color, $width, $height}) => ({\n    // If these were set normally in the CSS below, over 200 classes\n    // would be generated for each color/width/height combination.\n    style: {\n        backgroundColor: `hsl(${$color * 360}, 100%, 50%)`,\n        width: `${$width}px`,\n        height: `${$height}px`,\n    }\n}))<DiskProps>`\n    border-radius: 10px;\n    margin: ${p => p.$holding ? '20px' : 'auto'} auto auto auto;\n`;\n\nexport default Disk;\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div<{width: number}>`\n    display: inline-block;\n    width: ${p => p.width}%;\n`;\n\nconst PegWrapper = styled.div`\n    position: relative;\n    width: 0;\n    height: 0;\n    left: 50%;\n`;\n\nconst Peg = styled.div`\n    z-index: -1;\n    position: relative;\n    background-color: orange;\n    transform: translate(-50%, -50vh);\n    bottom: 0;\n    width: 10px;\n    border-radius: 4px;\n    height: 50vh;\n`;\n\ninterface Props {\n    width: number;\n    showPeg: boolean;\n    children: React.ReactNode;\n}\n\nconst Stack = ({width, showPeg, children}: Props) =>\n    <Wrapper width={width}>\n        {children}\n        {showPeg &&\n            <PegWrapper>\n                <Peg />\n            </PegWrapper>\n        }\n    </Wrapper>;\n\nexport default Stack;\n","const defaultSettings = {\n    disks: 3,\n    stacks: 3,\n    showPegs: true,\n    illegalMoves: false,\n    blindfold: false,\n    keyBind21: 's',\n    keyBind12: 'd',\n    keyBind13: 'f',\n    keyBind31: 'j',\n    keyBind32: 'k',\n    keyBind23: 'l',\n    keyReset: 'r',\n    keyUndo: 'z',\n};\n\nexport default defaultSettings;\n","import React from 'react';\nimport defaultSettings from '../defaultSettings';\nimport styled from 'styled-components';\n\ntype SliderProps = {\n    settings: typeof defaultSettings;\n    setSettings: (settings: typeof defaultSettings) => void;\n    settingsKey: 'disks' | 'stacks';\n    min: number;\n    max: number;\n    disabled: boolean;\n    resetGame: (settings?: typeof defaultSettings) => void;\n};\n\nconst LongInput = styled.input`\n    width: 300px;\n`;\n\nconst SettingsSlider = ({settings, setSettings, settingsKey, min, max, disabled, resetGame}: SliderProps) =>\n    <LongInput\n        type=\"range\"\n        min={min}\n        max={max}\n        value={settings[settingsKey]}\n        disabled={disabled}\n        onChange={event => {\n            const newSettings = {...settings, [settingsKey]: parseInt(event.target.value)};\n            setSettings(newSettings);\n            resetGame(newSettings);\n        }}\n    />;\n\nexport default SettingsSlider;","import defaultSettings from \"../defaultSettings\";\n\nconst optimalMoves = (settings: typeof defaultSettings) => {\n    if (settings.stacks < 3 && settings.disks > 1) return Infinity;\n    if (settings.illegalMoves) return settings.disks * 2 - 1;\n\n    let moves = 1;\n    let moveIncrement = 2;\n    for (let i = 1; i < settings.disks; ++i) {\n        moves += moveIncrement;\n        if (i % (settings.stacks - 2) === 0) moveIncrement *= 2;\n    }\n\n    return moves;\n};\n\nexport default optimalMoves;\n","import defaultSettings from \"../defaultSettings\";\nimport optimalMoves from \"./optimalMoves\";\n\nconst getNumberAndUnit = (settings: typeof defaultSettings) => {\n    const seconds = optimalMoves(settings) / 3;\n    if (seconds < 60) return {number: seconds, unit: 'seconds'};\n\n    const minutes = (seconds / 60);\n    if (minutes < 60) return {number: minutes, unit: 'minutes'};\n\n    const hours = (minutes / 60);\n    if (hours < 60) return {number: hours, unit: 'hours'};\n\n    const days = (hours / 24);\n    if (days < 365) return {number: days, unit: 'days'};\n\n    const years = (days / 365);\n    return {number: years, unit: 'years'};\n}\n\nconst estimatedTime = (settings: typeof defaultSettings): string => {\n    const {number, unit} = getNumberAndUnit(settings);\n    return `${number === Infinity ? '∞' : `${number.toFixed(2)} ${unit}`}`\n}\n\nexport default estimatedTime;","const compareObjects = (a: any, b: any) => JSON.stringify(a) === JSON.stringify(b);\n\nexport default compareObjects;\n","import styled from 'styled-components';\n\nexport const Button = styled.button`\n    background: none;\n    color: white;\n    border: 2px solid white;\n    padding: 10px;\n    \n    :focus {\n        outline: none;\n    }\n    \n    :active, :disabled {\n        background-color: #222222;\n    }\n`;\n","import React from 'react';\nimport styled from 'styled-components';\n\ninterface Props {\n    title: string;\n    children: React.ReactNode;\n}\n\nexport const Menu = ({title, children}: Props) =>\n    <Wrapper>\n        <Title>{title}</Title>\n        {children}\n    </Wrapper>;\n\nconst Wrapper = styled.div`\n    float: right;\n    background-color: black;\n    padding: 15px;\n    width: 500px;\n    margin-left: 25px;\n    \n    h2 {\n        text-align: center;\n        font-size: 15px;\n    }\n`;\n\nexport const Title = styled.h1`\n    text-align: center;\n    font-size: 20px;\n    margin-top: 0;\n`;","import styled from 'styled-components';\n\ninterface Props {\n    value: string;\n    onChange: (value: string) => void;\n}\n\nexport const KeyBind = ({value, onChange}: Props) => {\n    return (\n        <Input value={value} onKeyDown={e => {\n            onChange(e.key.toLowerCase());\n            e.stopPropagation();\n            e.preventDefault();\n        }} onChange={() => {\n            // Do nothing, but make React happy that this controlled input has an onChange.\n        }} />\n    );\n}\n\nconst Input = styled.input`\n    width: 10px;\n    background: none;\n    color: white;\n    border: 2px solid white;\n    text-align: center;\n    caret-color: transparent;\n\n    :focus {\n        outline: none;\n        background-color: #222222;\n        border-color: orange;\n    }\n`;\n","import React from 'react';\nimport defaultSettings from '../defaultSettings';\nimport SettingsSlider from './SettingsSlider';\nimport estimatedTime from '../util/estimatedTime';\nimport styled from 'styled-components';\nimport compareObjects from '../util/compareObjects';\nimport {Button} from './Button';\nimport {Menu} from './Menu';\nimport {KeyBind} from './KeyBind';\n\ntype SettingsProps = {\n    settings: typeof defaultSettings;\n    setSettings: (settings: typeof defaultSettings) => void;\n    resetGame: (settings?: typeof defaultSettings) => void;\n    resetSettings: () => void;\n    moves: {from: number, to: number}[];\n    endTime: number | null;\n}\n\nconst Settings = ({settings, setSettings, resetGame, resetSettings, moves, endTime}: SettingsProps) => {\n    const disabled = moves.length > 0 && !endTime;\n\n    return (\n        <Menu title=\"Settings\">\n            <table>\n                <tbody>\n                    <tr>\n                        <td><SettingsSlider disabled={disabled} settings={settings} setSettings={setSettings} settingsKey=\"disks\" resetGame={resetGame} min={1} max={30}/></td>\n                        <td>Disks ({settings.disks})</td>\n                    </tr>\n                    <tr>\n                        <td><SettingsSlider disabled={disabled} settings={settings} setSettings={setSettings} settingsKey=\"stacks\" resetGame={resetGame} min={2} max={9}/></td>\n                        <td>Stacks ({settings.stacks})</td>\n                    </tr>\n                    <tr>\n                        <RightAligned><input type=\"checkbox\" disabled={disabled} checked={settings.illegalMoves} onChange={event => {\n                            setSettings({...settings, illegalMoves: event.target.checked});\n                            resetGame();\n                        }}/></RightAligned>\n                        <td>Illegal moves</td>\n                    </tr>\n                    <tr>\n                        <RightAligned><input type=\"checkbox\" disabled={disabled} checked={settings.blindfold} onChange={event => {\n                            setSettings({...settings, blindfold: event.target.checked});\n                            resetGame();\n                        }}/></RightAligned>\n                        <td>Blindfold</td>\n                    </tr>\n                    <tr>\n                        <RightAligned><input type=\"checkbox\" checked={settings.showPegs} onChange={event => setSettings({...settings, showPegs: event.target.checked})}/></RightAligned>\n                        <td>Show pegs</td>\n                    </tr>\n                    <tr>\n                        <RightAligned><KeyBind value={settings.keyUndo} onChange={value => setSettings({...settings, keyUndo: value})} /></RightAligned>\n                        <td>Undo shortcut</td>\n                    </tr>\n                    <tr>\n                        <RightAligned><KeyBind value={settings.keyReset} onChange={value => setSettings({...settings, keyReset: value})} /></RightAligned>\n                        <td>Reset shortcut</td>\n                    </tr>\n                    <tr>\n                        <RightAligned><KeyBind value={settings.keyBind21} onChange={value => setSettings({...settings, keyBind21: value})} /></RightAligned>\n                        <td>Super fast move 2 &rarr; 1</td>\n                    </tr>\n                    <tr>\n                        <RightAligned><KeyBind value={settings.keyBind12} onChange={value => setSettings({...settings, keyBind12: value})} /></RightAligned>\n                        <td>Super fast move 1 &rarr; 2</td>\n                    </tr>\n                    <tr>\n                        <RightAligned><KeyBind value={settings.keyBind13} onChange={value => setSettings({...settings, keyBind13: value})} /></RightAligned>\n                        <td>Super fast move 1 &rarr; 3</td>\n                    </tr>\n                    <tr>\n                        <RightAligned><KeyBind value={settings.keyBind31} onChange={value => setSettings({...settings, keyBind31: value})} /></RightAligned>\n                        <td>Super fast move 3 &rarr; 1</td>\n                    </tr>\n                    <tr>\n                        <RightAligned><KeyBind value={settings.keyBind32} onChange={value => setSettings({...settings, keyBind32: value})} /></RightAligned>\n                        <td>Super fast move 3 &rarr; 2</td>\n                    </tr>\n                    <tr>\n                        <RightAligned><KeyBind value={settings.keyBind23} onChange={value => setSettings({...settings, keyBind23: value})} /></RightAligned>\n                        <td>Super fast move 2 &rarr; 3</td>\n                    </tr>\n                </tbody>\n            </table>\n            <Button onClick={() => resetSettings()} disabled={compareObjects(settings, defaultSettings) || disabled}>Default Settings</Button>{' '}\n            Estimated time for an expert player: {estimatedTime(settings)}\n            {settings.stacks < 3 && settings.disks > 1 &&\n                <Warning>Warning: Game is impossible. Increase number of stacks or decrease number of disks.</Warning>\n            }\n            {disabled &&\n                <Warning>Some settings are disabled because a game is in progress. Reset the game to enable them.</Warning>\n            }\n        </Menu>\n    );\n};\n\nconst Warning = styled.div`\n    font-weight: bold;\n    margin-top: 10px;\n    color: #ff6a6a;\n`;\n\nconst RightAligned = styled.td`\n    text-align: right;\n`;\n\nexport default Settings;\n","import {useEffect, useState} from 'react';\n\nconst Timer = ({startTime, endTime}: {startTime: number | null, endTime: number | null}) => {\n    const [dummy, setDummy] = useState(0);\n\n    useEffect(() => {\n        if (endTime) return;\n\n        // Force a re-render every 10 milliseconds.\n        const interval = setInterval(() => setDummy(dummy + 1), 10);\n\n        return () => clearInterval(interval);\n    });\n\n    if (startTime) {\n        const remainingTime = ((endTime ?? Date.now()) - startTime) / 1000;\n        return <>{remainingTime.toFixed(3)} seconds</>;\n    }\n\n    return <>Not Started</>;\n};\n\nexport default Timer;\n","import styled from 'styled-components';\nimport icon from '../assets/icon.png';\nimport Timer from './Timer';\nimport React from 'react';\nimport {Button} from './Button';\nimport defaultSettings from '../defaultSettings';\n\ninterface Props {\n    startTime: number | null;\n    endTime: number | null;\n    numMoves: number;\n    optimalMoves: number;\n    settings: typeof defaultSettings;\n    undo: () => void;\n    reset: () => void;\n    toggleSettings: () => void;\n    toggleInfo: () => void;\n}\n\nexport function NavBar({startTime, endTime, numMoves, optimalMoves, settings, undo, reset, toggleSettings, toggleInfo}: Props) {\n    return (\n        <Wrapper>\n            <img src={icon} alt=\"Logo\" width=\"50px\" />\n            <h1>Towers of Hanoi - Speedrun Edition</h1>\n            <Controls>\n                <Info>\n                    <Timer startTime={startTime} endTime={endTime} /><br />\n                    Moves: {numMoves}/{optimalMoves === Infinity ? '∞' : optimalMoves} Optimal\n                </Info>\n                <Button onClick={undo}>Undo&nbsp;({settings.keyUndo})</Button>\n                <Button onClick={() => reset()}>Reset&nbsp;({settings.keyReset})</Button>\n                <Button onClick={toggleSettings}>Settings</Button>\n                <Button onClick={toggleInfo}>?</Button>\n            </Controls>\n        </Wrapper>\n    )\n}\n\nconst Wrapper = styled.nav`\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    background-color: black;\n    padding: 10px;\n    gap: 10px;\n    \n    h1 {\n        margin: 0;\n    }\n`;\n\nconst Controls = styled.div`\n    display: flex;\n    gap: 5px;\n    align-items: center;\n`;\n\nconst Info = styled.div`\n    width: 225px;\n`;","export default \"data:image/png;base64,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\"","import defaultSettings from '../defaultSettings';\n\nfunction makeKey(settings: typeof defaultSettings) {\n    return `HighScore/${settings.disks}/${settings.stacks}/${settings.illegalMoves}/${settings.blindfold}`;\n}\n\nexport function getHighScore(settings: typeof defaultSettings) {\n    const score = localStorage.getItem(makeKey(settings));\n    return score ? parseInt(score) : Infinity;\n}\n\nexport function setHighScore(settings: typeof defaultSettings, score: number) {\n    if (getHighScore(settings) > score) localStorage.setItem(makeKey(settings), score.toString());\n}\n","import styled from 'styled-components';\nimport React from 'react';\nimport optimalMoves from '../util/optimalMoves';\nimport defaultSettings from '../defaultSettings';\nimport {getHighScore} from '../util/highScore';\n\ninterface Props {\n    moves: {from: number, to: number}[];\n    settings: typeof defaultSettings;\n    endTime: number;\n    startTime: number;\n}\n\nexport function Win({moves, settings, endTime, startTime}: Props) {\n    return (\n        <>\n            <Text>\n                <Emoji>🏆</Emoji>\n                <h2>Game complete!</h2>\n            </Text>\n            <NoBulletList>\n                {moves.length === optimalMoves(settings) && <li>You had the optimal solution!</li>}\n                <li><strong>Average moves per second</strong>: {(1000 * moves.length / (endTime - startTime)).toFixed(2)}</li>\n                <li><strong>Average optimal moves per second</strong>: {(1000 * optimalMoves(settings) / (endTime - startTime)).toFixed(2)}</li>\n                <li><strong>Your Best Time</strong>: {(getHighScore(settings) / 1000).toFixed(3)} seconds</li>\n            </NoBulletList>\n        </>\n    )\n}\n\nconst Emoji = styled.span`\n    font-size: 48px;\n`;\n\nconst Text = styled.div`\n    display: flex;\n`;\n\nconst NoBulletList = styled.ul`\n    list-style: none;\n    padding-left: 15px;\n    margin-top: 5px;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport {Button} from './Button';\nimport {Menu} from './Menu';\nimport defaultSettings from '../defaultSettings';\n\ninterface Props {\n    onClose: () => void;\n    settings: typeof defaultSettings;\n}\n\nconst Info = ({onClose, settings}: Props) =>\n    <Menu title=\"Welcome to Towers of Hanoi - Speedrun Edition.\">\n        <p>This is an online version of <Link href=\"https://en.wikipedia.org/wiki/Tower_of_Hanoi\">Towers of\n            Hanoi</Link>, where the controls are optimized to allow you to complete the game as fast as possible.\n            Your goal is to move all disks to the far right peg.\n            You can only move one disk at a time, and you cannot place a larger disk onto a smaller one.</p>\n        <p>The are two ways to control this game.</p>\n        <h2>Fast (2 keystrokes per move)</h2>\n        <p>Use the number keys to pickup/place disks at the corresponding peg number.</p>\n        <h2>Super Fast (1 keystroke per move)</h2>\n        <ul>\n            <li><strong>{settings.keyBind21}</strong> - move top disk from peg 2 to peg 1</li>\n            <li><strong>{settings.keyBind12}</strong> - move top disk from peg 1 to peg 2</li>\n            <li><strong>{settings.keyBind13}</strong> - move top disk from peg 1 to peg 3</li>\n            <li><strong>{settings.keyBind31}</strong> - move top disk from peg 3 to peg 1</li>\n            <li><strong>{settings.keyBind32}</strong> - move top disk from peg 3 to peg 2</li>\n            <li><strong>{settings.keyBind23}</strong> - move top disk from peg 2 to peg 3</li>\n        </ul>\n        <p><strong>Note</strong>: Super Fast controls only work for 3 peg games.\n            These key binds can also be customized in the settings.</p>\n        <CenterButton onClick={onClose}>Close</CenterButton>\n        Made with ♥ by <Link href=\"https://doteye.online\">.i</Link>\n    </Menu>;\n\n\n\nconst Link = styled.a.attrs(() => ({\n    target: '_blank',\n}))`\n    color: lightskyblue;\n`;\n\nconst CenterButton = styled(Button)`\n    position: relative;\n    left: 50%;\n    transform: translateX(-50%);\n`;\n\nexport default Info;\n","import React, {useCallback, useEffect, useRef, useState} from 'react';\nimport Disk from './Disk';\nimport Stack from './Stack';\nimport defaultSettings from '../defaultSettings';\nimport Settings from './Settings';\nimport styled from 'styled-components';\nimport compareObjects from \"../util/compareObjects\";\nimport {NavBar} from './NavBar';\nimport optimalMoves from '../util/optimalMoves';\nimport {Win} from './Win';\nimport {setHighScore} from '../util/highScore';\nimport Info from './Info';\n\nconst Game = () => {\n    const [stacks, setStacks] = useState([\n        Array.from({length: defaultSettings.disks}, (_, i) => i + 1),\n        [],\n        [],\n    ]);\n\n    const [holding, setHolding] = useState<{width: number, from: number} | null>(null);\n    const [moves, setMoves] = useState<{from: number, to: number}[]>([]);\n    const [startTime, setStartTime] = useState<number | null>(null);\n    const [endTime, setEndTime] = useState<number | null>(null);\n    const [settings, setSettings] = useState(defaultSettings);\n    const [settingsShown, setSettingsShown] = useState(false);\n    const [infoShown, setInfoShown] = useState(true);\n    const [, rerender] = useState(0);\n\n    const stacksRef = useRef<HTMLDivElement>(null);\n\n    const checkForWin = () => {\n        if (\n            stacks[stacks.length - 1].length === settings.disks &&\n            compareObjects(stacks[stacks.length - 1], Array.from({length: settings.disks}, (_, i) => i + 1))\n        ) {\n            const now = Date.now();\n            setHighScore(settings, now - startTime!);\n            setEndTime(now);\n        }\n    };\n\n    const onKeyPress = (event: KeyboardEvent) => {\n        if (event.key === settings.keyReset) resetGame();\n        if (endTime) return;\n\n        if (event.key === settings.keyUndo) {\n            undo();\n            return;\n        }\n\n        const newStacks = [...stacks];\n        const move = (from: number, to: number) => {\n            if (from >= settings.stacks || to >= settings.stacks) return;\n            if (!settings.illegalMoves && stacks[to][0] < newStacks[from][0]) return;\n            const disk = newStacks[from].shift();\n            if (!disk) return;\n            if (moves.length === 0) setStartTime(Date.now());\n            setMoves(moves.concat([{from, to}]));\n            newStacks[to].unshift(disk);\n            setStacks(newStacks);\n            checkForWin();\n        }\n        if (!holding) {\n            if (event.key === settings.keyBind21) move(1, 0);\n            else if (event.key === settings.keyBind12) move(0, 1);\n            else if (event.key === settings.keyBind13) move(0, 2);\n            else if (event.key === settings.keyBind31) move(2, 0);\n            else if (event.key === settings.keyBind32) move(2, 1);\n            else if (event.key === settings.keyBind23) move(1, 2);\n        }\n        const numberKey = Number(event.key) - 1;\n        if (isNaN(numberKey)) return;\n        if (numberKey < 0 || numberKey >= stacks.length) return;\n        if (holding) {\n            if (!settings.illegalMoves && stacks[numberKey][0] < holding.width) return;\n\n            const newStacks = [...stacks];\n            newStacks[numberKey].unshift(holding.width);\n            setStacks(newStacks);\n            setHolding(null);\n\n            if (holding.from !== numberKey) setMoves(moves.concat([{from: holding.from, to: numberKey}]));\n            checkForWin();\n        } else {\n            setHolding(stacks[numberKey][0] ? {\n                width: stacks[numberKey][0],\n                from: numberKey,\n            } : null);\n            if (moves.length === 0) setStartTime(Date.now());\n\n            const newStacks = [...stacks];\n            newStacks[numberKey].shift();\n            setStacks(newStacks);\n        }\n\n        // Don't allow multiple moves per render.\n        document.removeEventListener('keypress', onKeyPress);\n    };\n\n    const resetGame = useCallback((newSettings: typeof defaultSettings = settings) => {\n        let stacks = [];\n        for (let i = 0; i < newSettings.stacks; ++i) stacks.push([]);\n        stacks[0] = Array.from({length: newSettings.disks}, (_, i) => i + 1);\n        setStacks(stacks);\n\n        setHolding(null);\n        setStartTime(null);\n        setEndTime(null);\n        setMoves([]);\n    }, [settings]);\n\n    const resetSettings = useCallback((newSettings: typeof defaultSettings = defaultSettings) => {\n        setSettings(newSettings);\n        resetGame(newSettings);\n    }, [resetGame]);\n\n    const getWidth = (size: number) => {\n        if (!stacksRef.current) return 0;\n        const maxWidth = (stacksRef.current.firstChild as HTMLDivElement).offsetWidth;\n        return settings.disks * 50 > maxWidth ? size / settings.disks * maxWidth : size * 50;\n    };\n\n    const getColor = (size: number) => {\n        return size / settings.disks;\n    };\n\n    const undo = useCallback(() => {\n        const newStacks = [...stacks];\n\n        if (holding) {\n            newStacks[holding.from].unshift(holding.width);\n            setHolding(null);\n        } else {\n            if (moves.length === 0) return;\n            const newMoves = [...moves];\n            const lastMove = newMoves.splice(newMoves.length - 1, 1)[0];\n\n            newStacks[lastMove.from].unshift(stacks[lastMove.to][0]);\n            newStacks[lastMove.to].shift();\n\n            setMoves(newMoves);\n        }\n\n        setStacks(newStacks);\n    }, [stacks, holding, moves]);\n\n    const resize = () => rerender(x => x + 1);\n\n    useEffect(() => {\n        document.addEventListener('keypress', onKeyPress);\n        window.addEventListener('resize', resize);\n        return () => {\n            document.removeEventListener('keypress', onKeyPress);\n            window.removeEventListener('resize', resize);\n        }\n    });\n\n    // Resize once after initial page load and when settings change.\n    useEffect(resize, [settings]);\n\n    // Load settings on initial page load.\n    useEffect(() => {\n        const rawSettings = window.localStorage.getItem('settings');\n        if (rawSettings) {\n            const newSettings = JSON.parse(rawSettings);\n            setInfoShown(false);\n            setSettings(newSettings);\n            resetGame(newSettings);\n        }\n    }, [resetGame]);\n\n    // Save settings on change.\n    useEffect(() => {\n        window.localStorage.setItem('settings', JSON.stringify(settings));\n    }, [settings]);\n\n    const stackWidth = 100 / settings.stacks;\n    const diskHeight = Math.min((window.innerHeight - 150) / settings.disks, 50);\n\n    return (\n        <>\n            <NavBar\n                startTime={startTime}\n                endTime={endTime}\n                numMoves={moves.length}\n                optimalMoves={optimalMoves(settings)}\n                settings={settings}\n                undo={undo}\n                reset={resetGame}\n                toggleSettings={() => setSettingsShown(!settingsShown)}\n                toggleInfo={() => setInfoShown(!infoShown)} />\n            {infoShown && <Info onClose={() => setInfoShown(false)} settings={settings} />}\n            {settingsShown && <Settings\n                settings={settings}\n                setSettings={setSettings}\n                resetSettings={resetSettings}\n                resetGame={resetGame}\n                moves={moves}\n                endTime={endTime} />}\n            {startTime && endTime && <Win moves={moves} settings={settings} startTime={startTime} endTime={endTime} />}\n\n            <div style={{visibility: settings.blindfold ? 'hidden': 'unset'}}>\n                {holding && <Disk $width={getWidth(holding.width)} $height={diskHeight} $color={getColor(holding.width)} $holding />}\n                <Stacks ref={stacksRef}>\n                    {stacks.map((stack, key) =>\n                        <Stack\n                            key={key}\n                            width={stackWidth}\n                            showPeg={settings.showPegs}\n                        >\n                            {stack.map((index, key) => <Disk key={key} $width={getWidth(index)} $height={diskHeight} $color={getColor(index)} />)}\n                        </Stack>\n                    )}\n                </Stacks>\n            </div>\n        </>\n    );\n};\n\nexport default Game;\n\nconst Stacks = styled.div`\n    position: fixed;\n    bottom: 0;\n    width: 100%;\n    pointer-events: none;\n    z-index: -1;\n`;\n","import React, {useEffect} from 'react';\nimport Game from \"./components/Game\";\nimport {isMobileOrTablet} from './util/isMobileOrTablet';\n\nconst App = () => {\n    useEffect(() => {\n        if (isMobileOrTablet()) alert('Heads up: this website uses raw keyboard input. If you are playing on a phone or tablet, you will need to connect a keyboard.');\n    }, []);\n\n    return <Game/>;\n};\n\nexport default App;\n","export function isMobileOrTablet() {\n    // Modified from https://stackoverflow.com/questions/11381673/detecting-a-mobile-browser\n    // @ts-ignore\n    const userAgent = navigator.userAgent || navigator.vendor || window.opera;\n    // eslint-disable-next-line\n    return /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(userAgent) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(userAgent.slice(0, 4));\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App/>\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n"],"sourceRoot":""}