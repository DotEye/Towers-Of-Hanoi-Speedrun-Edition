{"version":3,"sources":["components/Disk.tsx","components/Stack.tsx","util/defaultSettings.ts","components/SettingsSlider.tsx","util/optimalMoves.ts","util/constants.ts","util/time.ts","util/compareObjects.ts","components/Button.tsx","components/Menu.tsx","components/KeyBind.tsx","util/highScore.ts","components/SettingsMenu.tsx","components/Timer.tsx","util/isMobileOrTablet.ts","util/share.ts","components/NavBar.tsx","assets/icon.png","components/Win.tsx","components/Info.tsx","components/Game.tsx","util/isWinning.ts","App.tsx","index.tsx"],"names":["Disk","styled","div","attrs","$color","$width","$height","style","backgroundColor","width","height","p","$holding","Wrapper","PegWrapper","Peg","Stack","showPeg","children","defaultSettings","disks","stacks","startStack","endStack","showPegs","diskNumbers","illegalMoves","blindfold","keyBind21","keyBind12","keyBind13","keyBind31","keyBind32","keyBind23","keyReset","keyUndo","SettingsSlider","settings","setSettings","settingsKey","min","max","disabled","resetGame","LongInput","type","value","onChange","event","newSettings","parseInt","target","input","memo","frameStewartMemo","result","frameStewart","Infinity","i","moves","optimalMoves","MS_IN_SECOND","estimatedTime","seconds","number","unit","minutes","hours","days","getNumberAndUnit","toFixed","timeDifference","startTime","endTime","Date","now","compareObjects","a","b","JSON","stringify","Button","button","Menu","title","Title","h1","KeyBind","Input","dangerouslySetInnerHTML","__html","onKeyDown","e","key","toLowerCase","stopPropagation","preventDefault","contentEditable","makeKey","getHighScore","score","localStorage","getItem","SettingsMenu","resetSettings","length","highScore","Math","RightAligned","checked","Bottom","onClick","Warning","td","Timer","useState","dummy","setDummy","useEffect","interval","setInterval","clearInterval","isMobileOrTablet","userAgent","navigator","vendor","window","opera","test","slice","share","numMoves","numOptimalMoves","shareText","text","copyToClipboard","Promise","resolve","reject","clipboard","writeText","then","catch","alert","NavBar","undo","reset","toggleSettings","toggleInfo","copied","setCopied","src","alt","Controls","setTimeout","nav","Info","Win","Text","Emoji","NoBulletList","NewHighScore","span","ul","strong","onClose","Link","href","Footer","Game","setStacks","holding","setHolding","setMoves","setStartTime","setEndTime","settingsShown","setSettingsShown","infoShown","setInfoShown","setTimeDifference","rerender","stacksRef","useRef","useCallback","push","Array","from","_","newStacks","unshift","newMoves","lastMove","splice","to","shift","checkForWin","isWinning","diff","setItem","toString","setHighScore","move","disk","concat","numberKey","Number","isNaN","document","removeEventListener","getWidth","size","current","maxWidth","firstChild","offsetWidth","getColor","resize","x","addEventListener","rawSettings","parse","stackWidth","diskHeight","innerHeight","Blindfold","Main","Stacks","ref","map","stack","index","main","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2ecb983a.chunk.js","sourcesContent":["import styled from 'styled-components';\n\ninterface Props {\n    $width: number;\n    $height: number;\n    $color: number;\n    $holding?: boolean;\n}\n\nexport const Disk = styled.div.attrs<Props>(({$color, $width, $height}) => ({\n    // If these were set normally in the CSS below, over 200 classes\n    // would be generated for each color/width/height combination.\n    style: {\n        backgroundColor: `hsl(${$color * 360}, 100%, 50%)`,\n        width: `${$width}px`,\n        height: `${$height}px`,\n    }\n}))<Props>`\n    border-radius: 10px;\n    margin: ${p => p.$holding ? '20px' : 'auto'} auto auto auto;\n    font-size: ${p => p.$height - 10}px;\n    -webkit-text-stroke-width: 1px;\n    -webkit-text-stroke-color: black;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div<{width: number}>`\n    display: inline-block;\n    width: ${p => p.width}%;\n`;\n\nconst PegWrapper = styled.div`\n    position: absolute;\n    width: inherit;\n    bottom: 0;\n`;\n\nconst Peg = styled.div`\n    left: 50%;\n    transform: translateX(-50%);\n    z-index: -1;\n    position: relative;\n    background-color: orange;\n    width: 10px;\n    border-radius: 4px;\n    height: calc(100vh - 125px);\n`;\n\ninterface Props {\n    width: number;\n    showPeg: boolean;\n    children: React.ReactNode;\n}\n\nexport const Stack = ({width, showPeg, children}: Props) =>\n    <Wrapper width={width}>\n        {children}\n        {showPeg &&\n            <PegWrapper>\n                <Peg />\n            </PegWrapper>\n        }\n    </Wrapper>;\n","export const defaultSettings = {\n    disks: 3,\n    stacks: 3,\n    startStack: 1,\n    endStack: 3,\n    showPegs: true,\n    diskNumbers: false,\n    illegalMoves: false,\n    blindfold: false,\n    keyBind21: 's',\n    keyBind12: 'd',\n    keyBind13: 'f',\n    keyBind31: 'j',\n    keyBind32: 'k',\n    keyBind23: 'l',\n    keyReset: 'r',\n    keyUndo: 'z',\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport {Settings} from '../util/types';\n\ninterface Props {\n    settings: Settings;\n    setSettings: (settings: Settings) => void;\n    settingsKey: 'disks' | 'stacks' | 'startStack' | 'endStack';\n    min: number;\n    max: number;\n    disabled: boolean;\n    resetGame: (settings: Settings) => void;\n}\n\nexport const SettingsSlider = ({settings, setSettings, settingsKey, min, max, disabled, resetGame}: Props) =>\n    <LongInput\n        type=\"range\"\n        min={min}\n        max={max}\n        value={settings[settingsKey]}\n        disabled={disabled}\n        onChange={event => {\n            const newSettings = {...settings, [settingsKey]: parseInt(event.target.value)};\n            setSettings(newSettings);\n            resetGame(newSettings);\n        }}\n    />;\n\nconst LongInput = styled.input`\n    width: 300px;\n`;\n","import {Settings} from './types';\n\n/**\n * A memoized implementation of the Frame-Stewart algorithm for\n * calculating the optimal moves given the number of disks and stacks.\n *\n * https://en.wikipedia.org/wiki/Tower_of_Hanoi#Frame%E2%80%93Stewart_algorithm\n */\nconst memo: {[disks: number]: {[stacks: number]: number}} = {};\nconst frameStewartMemo = (disks: number, stacks: number) => {\n    if (disks in memo && stacks in memo[disks]) return memo[disks][stacks];\n    const result = frameStewart(disks, stacks);\n    if (!(disks in memo)) memo[disks] = {};\n    memo[disks][stacks] = result;\n    return result;\n};\n\nconst frameStewart = (disks: number, stacks: number) => {\n    if (disks === 0) return 0;\n    if (stacks > 1 && disks === 1) return 1;\n    if (stacks === 3) return 2 ** disks - 1;\n    if (stacks >= 3 && disks > 0) {\n        let min = Infinity;\n        for (let i = 1; i < disks; ++i) {\n            const moves = 2 * frameStewartMemo(i, stacks) + frameStewartMemo(disks - i, stacks - 1);\n            if (moves < min) min = moves;\n        }\n        return min;\n    }\n    return Infinity;\n};\n\nexport const optimalMoves = (settings: Settings) => {\n    if (settings.startStack === settings.endStack) return 0;\n    if (settings.illegalMoves && !(settings.stacks < 3 && settings.disks > 1)) return settings.disks * 2 - 1;\n    return frameStewartMemo(settings.disks, settings.stacks);\n};\n","export const TOP_DISK_MARGIN = 150;\nexport const MAX_DISK_HEIGHT = 50;\nexport const MIN_DISK_WIDTH_INCREMENT = 50;\nexport const MS_IN_SECOND = 1000;\n","import {optimalMoves} from './optimalMoves';\nimport {Settings} from './types';\nimport {MS_IN_SECOND} from './constants';\n\nconst getNumberAndUnit = (settings: Settings) => {\n    const seconds = optimalMoves(settings) / 3;\n    if (seconds < 60) return {number: seconds, unit: 'seconds'};\n\n    const minutes = (seconds / 60);\n    if (minutes < 60) return {number: minutes, unit: 'minutes'};\n\n    const hours = (minutes / 60);\n    if (hours < 60) return {number: hours, unit: 'hours'};\n\n    const days = (hours / 24);\n    if (days < 365) return {number: days, unit: 'days'};\n\n    const years = (days / 365);\n    return {number: years, unit: 'years'};\n};\n\nexport const estimatedTime = (settings: Settings) => {\n    const {number, unit} = getNumberAndUnit(settings);\n    return `${number === Infinity ? '∞' : `${number.toFixed(2)} ${unit}`}`;\n};\n\nexport const timeDifference = (startTime: number, endTime: number | null) =>\n    (((endTime ?? Date.now()) - startTime) / MS_IN_SECOND).toFixed(3);\n","export const compareObjects = (a: any, b: any) => JSON.stringify(a) === JSON.stringify(b);\n","import styled from 'styled-components';\n\nexport const Button = styled.button`\n    background: none;\n    color: white;\n    border: 2px solid white;\n    padding: 10px;\n    \n    :focus {\n        outline: none;\n    }\n    \n    :active, :disabled {\n        background-color: #222222;\n    }\n`;\n","import React from 'react';\nimport styled from 'styled-components';\n\ninterface Props {\n    title: string;\n    children: React.ReactNode;\n}\n\nexport const Menu = ({title, children}: Props) =>\n    <Wrapper>\n        <Title>{title}</Title>\n        {children}\n    </Wrapper>;\n\nconst Wrapper = styled.div`\n    float: right;\n    background-color: black;\n    padding: 15px;\n    width: 500px;\n    margin-left: 25px;\n    \n    h2 {\n        text-align: center;\n        font-size: 15px;\n    }\n`;\n\nconst Title = styled.h1`\n    text-align: center;\n    font-size: 20px;\n    margin-top: 0;\n`;","import styled from 'styled-components';\n\ninterface Props {\n    value: string;\n    onChange: (value: string) => void;\n}\n\nexport const KeyBind = ({value, onChange}: Props) =>\n    <Input dangerouslySetInnerHTML={{__html: value}} onKeyDown={e => {\n        onChange(e.key.toLowerCase());\n        e.stopPropagation();\n        e.preventDefault();\n    }} onChange={() => {\n        // Do nothing, but make React happy that this controlled input has an onChange.\n    }} contentEditable />;\n\nconst Input = styled.div`\n    min-width: 10px;\n    background: none;\n    color: white;\n    border: 2px solid white;\n    padding: 0 2px;\n    text-align: center;\n    caret-color: transparent;\n    display: inline-block;\n\n    :focus {\n        outline: none;\n        background-color: #222222;\n        border-color: orange;\n    }\n`;\n","import {Settings} from './types';\n\nconst makeKey = (settings: Settings) => `HighScore/${settings.disks}/${settings.stacks}/${settings.illegalMoves}/${settings.blindfold}/${settings.startStack === settings.endStack}`;\n\nexport const getHighScore = (settings: Settings) => {\n    const score = localStorage.getItem(makeKey(settings));\n    return score ? parseInt(score) : Infinity;\n};\n\nexport const setHighScore = (settings: Settings, score: number) => {\n    const diff = score - getHighScore(settings);\n    if (diff < 0) localStorage.setItem(makeKey(settings), score.toString());\n    return diff;\n};\n","import React from 'react';\nimport {defaultSettings} from '../util/defaultSettings';\nimport {SettingsSlider} from './SettingsSlider';\nimport {estimatedTime} from '../util/time';\nimport styled from 'styled-components';\nimport {compareObjects} from '../util/compareObjects';\nimport {Button} from './Button';\nimport {Menu} from './Menu';\nimport {KeyBind} from './KeyBind';\nimport {Moves, Settings} from '../util/types';\nimport {getHighScore} from '../util/highScore';\nimport {MS_IN_SECOND} from '../util/constants';\n\ninterface Props {\n    settings: Settings;\n    setSettings: (settings: Settings) => void;\n    resetGame: (settings: Settings) => void;\n    resetSettings: () => void;\n    moves: Moves;\n    endTime: number | null;\n}\n\nexport const SettingsMenu = ({settings, setSettings, resetGame, resetSettings, moves, endTime}: Props) => {\n    const disabled = moves.length > 0 && !endTime;\n\n    const highScore = getHighScore(settings);\n    return (\n        <Menu title=\"Settings\">\n            <table>\n                <tbody>\n                    <tr>\n                        <td><SettingsSlider disabled={disabled} settings={settings} setSettings={setSettings} settingsKey=\"disks\" resetGame={resetGame} min={1} max={30} /></td>\n                        <td>Disks ({settings.disks})</td>\n                    </tr>\n                    <tr>\n                        <td><SettingsSlider disabled={disabled} settings={settings} setSettings={setSettings} settingsKey=\"stacks\" resetGame={resetGame} min={2} max={9} /></td>\n                        <td>Stacks ({settings.stacks})</td>\n                    </tr>\n                    <tr>\n                        <td><SettingsSlider disabled={disabled} settings={settings} setSettings={setSettings} settingsKey=\"startStack\" resetGame={resetGame} min={1} max={settings.stacks} /></td>\n                        <td>Start Stack ({Math.min(settings.startStack, settings.stacks)})</td>\n                    </tr>\n                    <tr>\n                        <td><SettingsSlider disabled={disabled} settings={settings} setSettings={setSettings} settingsKey=\"endStack\" resetGame={resetGame} min={1} max={settings.stacks} /></td>\n                        <td>End Stack ({Math.min(settings.endStack, settings.stacks)})</td>\n                    </tr>\n                    <tr>\n                        <RightAligned><input type=\"checkbox\" disabled={disabled} checked={settings.illegalMoves} onChange={event => {\n                            const newSettings = {...settings, illegalMoves: event.target.checked};\n                            setSettings(newSettings);\n                            resetGame(newSettings);\n                        }}/></RightAligned>\n                        <td>Illegal moves</td>\n                    </tr>\n                    <tr>\n                        <RightAligned><input type=\"checkbox\" disabled={disabled} checked={settings.blindfold} onChange={event => {\n                            const newSettings = {...settings, blindfold: event.target.checked};\n                            setSettings(newSettings);\n                            resetGame(newSettings);\n                        }}/></RightAligned>\n                        <td>Blindfold</td>\n                    </tr>\n                    <tr>\n                        <RightAligned><input type=\"checkbox\" checked={settings.showPegs} onChange={event => setSettings({...settings, showPegs: event.target.checked})}/></RightAligned>\n                        <td>Show pegs</td>\n                    </tr>\n                    <tr>\n                        <RightAligned><input type=\"checkbox\" checked={settings.diskNumbers} onChange={event => setSettings({...settings, diskNumbers: event.target.checked})}/></RightAligned>\n                        <td>Disk numbers</td>\n                    </tr>\n                    <tr>\n                        <RightAligned><KeyBind value={settings.keyUndo} onChange={value => setSettings({...settings, keyUndo: value})} /></RightAligned>\n                        <td>Undo shortcut</td>\n                    </tr>\n                    <tr>\n                        <RightAligned><KeyBind value={settings.keyReset} onChange={value => setSettings({...settings, keyReset: value})} /></RightAligned>\n                        <td>Reset shortcut</td>\n                    </tr>\n                    <tr>\n                        <RightAligned><KeyBind value={settings.keyBind12} onChange={value => setSettings({...settings, keyBind12: value})} /></RightAligned>\n                        <td>Super fast move 1 &rarr; 2</td>\n                    </tr>\n                    <tr>\n                        <RightAligned><KeyBind value={settings.keyBind13} onChange={value => setSettings({...settings, keyBind13: value})} /></RightAligned>\n                        <td>Super fast move 1 &rarr; 3</td>\n                    </tr>\n                    <tr>\n                        <RightAligned><KeyBind value={settings.keyBind21} onChange={value => setSettings({...settings, keyBind21: value})} /></RightAligned>\n                        <td>Super fast move 2 &rarr; 1</td>\n                    </tr>\n                    <tr>\n                        <RightAligned><KeyBind value={settings.keyBind23} onChange={value => setSettings({...settings, keyBind23: value})} /></RightAligned>\n                        <td>Super fast move 2 &rarr; 3</td>\n                    </tr>\n                    <tr>\n                        <RightAligned><KeyBind value={settings.keyBind31} onChange={value => setSettings({...settings, keyBind31: value})} /></RightAligned>\n                        <td>Super fast move 3 &rarr; 1</td>\n                    </tr>\n                    <tr>\n                        <RightAligned><KeyBind value={settings.keyBind32} onChange={value => setSettings({...settings, keyBind32: value})} /></RightAligned>\n                        <td>Super fast move 3 &rarr; 2</td>\n                    </tr>\n                </tbody>\n            </table>\n            <Bottom>\n                <Button onClick={() => resetSettings()} disabled={compareObjects(settings, defaultSettings) || disabled}>Default Settings</Button>{' '}\n                <div>\n                    {highScore === Infinity ? 'There is no high score for these settings.' : `Your high score for these settings: ${(highScore / MS_IN_SECOND).toFixed(3)} seconds`}<br />\n                    Estimated time for an expert player: {estimatedTime(settings)}\n                </div>\n            </Bottom>\n            {settings.stacks < 3 && settings.disks > 1 &&\n                <Warning>Warning: Game is impossible. Increase number of stacks or decrease number of disks.</Warning>\n            }\n            {disabled &&\n                <Warning>Some settings are disabled because a game is in progress. Reset the game to enable them.</Warning>\n            }\n        </Menu>\n    );\n};\n\nconst Warning = styled.div`\n    font-weight: bold;\n    margin-top: 10px;\n    color: #ff6a6a;\n`;\n\nconst RightAligned = styled.td`\n    text-align: right;\n`;\n\nconst Bottom = styled.div`\n    display: flex;\n    gap: 5px;\n`;\n","import {useEffect, useState} from 'react';\nimport {timeDifference} from '../util/time';\n\ninterface Props {\n    startTime: number | null;\n    endTime: number | null;\n}\n\nexport const Timer = ({startTime, endTime}: Props) => {\n    const [dummy, setDummy] = useState(0);\n\n    useEffect(() => {\n        if (endTime) return;\n\n        // Force a re-render every 10 milliseconds.\n        const interval = setInterval(() => setDummy(dummy + 1), 10);\n\n        return () => clearInterval(interval);\n    });\n\n    return startTime ? <>{timeDifference(startTime, endTime)} seconds</> : <>Not started</>;\n};\n","export const isMobileOrTablet = () => {\n    // Modified from https://stackoverflow.com/questions/11381673/detecting-a-mobile-browser\n    // @ts-ignore\n    const userAgent = navigator.userAgent || navigator.vendor || window.opera;\n    // eslint-disable-next-line\n    return /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(userAgent) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(userAgent.slice(0, 4));\n};\n","import {isMobileOrTablet} from './isMobileOrTablet';\nimport {Settings} from './types';\nimport {timeDifference} from './time';\nimport {MS_IN_SECOND} from './constants';\nimport {optimalMoves} from './optimalMoves';\n\nexport const share = async (startTime: number, endTime: number, numMoves: number, numOptimalMoves: number, settings: Settings) =>\n    await shareText(\n        '⬛⬛🟩⬛⬛' +\n        '\\n⬛🟦🟦🟦⬛' +\n        '\\n🟥🟥🟥🟥🟥' +\n        '\\nTowers of Hanoi - Speedrun Edition Result:' +\n        `\\n📚 ${settings.disks} disks` +\n        `\\n⌛ ${timeDifference(startTime, endTime)} seconds` +\n        `\\n♟️ ${numMoves}/${numOptimalMoves} moves` +\n        `\\n🚀 ${(MS_IN_SECOND * optimalMoves(settings) / (endTime - startTime)).toFixed(2)} optimal moves/second` +\n        (numMoves === numOptimalMoves ? '\\n✨ Optimal solution' : '') +\n        (settings.blindfold ? '\\n🙈 Blindfolded' : '') +\n        (settings.illegalMoves ? '\\n🚨 Illegal moves' : '') +\n        (settings.startStack === settings.endStack ? '\\n😞 Cheater' : '')\n    );\n\nexport const shareText = async (text: string) => {\n    if (isMobileOrTablet() && navigator.share) {\n        try {\n            await navigator.share({\n                title: 'Towers of Hanoi - Speedrun Edition',\n                text,\n            })\n        } catch {\n            await copyToClipboard(text);\n        }\n    } else {\n        await copyToClipboard(text);\n    }\n};\n\nexport const copyToClipboard = async (text: string) => new Promise((resolve, reject) =>\n    navigator.clipboard.writeText(text).then(resolve).catch(() => {\n        alert('Sharing failed or was cancelled.');\n        reject();\n    }));\n","import styled from 'styled-components';\nimport icon from '../assets/icon.png';\nimport {Timer} from './Timer';\nimport React, {useState} from 'react';\nimport {Button} from './Button';\nimport {Settings} from '../util/types';\nimport {share} from '../util/share';\n\ninterface Props {\n    startTime: number | null;\n    endTime: number | null;\n    numMoves: number;\n    optimalMoves: number;\n    settings: Settings;\n    undo: () => void;\n    reset: (settings: Settings) => void;\n    toggleSettings: () => void;\n    toggleInfo: () => void;\n}\n\nexport const NavBar = ({startTime, endTime, numMoves, optimalMoves, settings, undo, reset, toggleSettings, toggleInfo}: Props) => {\n    const [copied, setCopied] = useState(false);\n\n    return (\n        <Wrapper>\n            <img src={icon} alt=\"Logo\" width=\"50px\"/>\n            <h1>Towers of Hanoi - Speedrun Edition</h1>\n            <Controls>\n                {startTime && endTime &&\n                    <Button onClick={() => share(startTime, endTime, numMoves, optimalMoves, settings).then(() => {\n                        setCopied(true);\n                        setTimeout(() => setCopied(false), 1000);\n                    })} disabled={copied}>\n                        {copied ? 'Copied!' : 'Share'}\n                    </Button>}\n                <Info>\n                    <Timer startTime={startTime} endTime={endTime}/><br/>\n                    Moves: {numMoves}/{optimalMoves === Infinity ? '∞' : optimalMoves} optimal\n                </Info>\n                <Button onClick={undo}>Undo&nbsp;({settings.keyUndo})</Button>\n                <Button onClick={() => reset(settings)}>Reset&nbsp;({settings.keyReset})</Button>\n                <Button onClick={toggleSettings}>Settings</Button>\n                <Button onClick={toggleInfo}>?</Button>\n            </Controls>\n        </Wrapper>\n    );\n};\n\nconst Wrapper = styled.nav`\n    display: flex;\n    align-items: center;\n    background-color: black;\n    padding: 10px;\n    gap: 10px;\n    \n    h1 {\n        margin: 0;\n    }\n`;\n\nconst Controls = styled.div`\n    display: flex;\n    gap: 5px;\n    align-items: center;\n    margin-left: auto;\n`;\n\nconst Info = styled.div`\n    min-width: 175px;\n`;\n","export default \"data:image/png;base64,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\"","import styled from 'styled-components';\nimport React from 'react';\nimport {optimalMoves} from '../util/optimalMoves';\nimport {getHighScore} from '../util/highScore';\nimport {Moves, Settings} from '../util/types';\nimport {MS_IN_SECOND} from '../util/constants';\n\ninterface Props {\n    moves: Moves;\n    settings: Settings;\n    startTime: number;\n    endTime: number;\n    timeDifference: number;\n}\n\nexport const Win = ({moves, settings, startTime, endTime, timeDifference}: Props) =>\n    <>\n        <Text>\n            <Emoji>🏆</Emoji>\n            <h2>Game complete!</h2>\n        </Text>\n        <NoBulletList>\n            {moves.length === optimalMoves(settings) && <li>You had the optimal solution!</li>}\n            <li>\n                <strong>Average moves per second</strong>:{' '}\n                {(MS_IN_SECOND * moves.length / (endTime - startTime)).toFixed(2)}\n            </li>\n            <li>\n                <strong>Average optimal moves per second</strong>:{' '}\n                {(MS_IN_SECOND * optimalMoves(settings) / (endTime - startTime)).toFixed(2)}\n            </li>\n            <li>\n                <strong>Your best time</strong>: {(getHighScore(settings) / MS_IN_SECOND).toFixed(3)} seconds\n            </li>\n            <li>\n                {timeDifference < 0\n                    ? <><NewHighScore>New high score!</NewHighScore>{timeDifference > -Infinity && <strong> Difference: </strong>}</>\n                    : <><strong>High score difference:</strong> +</>}{timeDifference > -Infinity && <>{(timeDifference / MS_IN_SECOND).toFixed(3)} seconds</>}\n            </li>\n        </NoBulletList>\n    </>;\n\nconst Emoji = styled.span`\n    font-size: 48px;\n`;\n\nconst Text = styled.div`\n    display: flex;\n`;\n\nconst NoBulletList = styled.ul`\n    list-style: none;\n    padding-left: 15px;\n    margin-top: 5px;\n`;\n\nconst NewHighScore = styled.strong`\n    color: orange;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport {Button} from './Button';\nimport {Menu} from './Menu';\nimport {Settings} from '../util/types';\n\ninterface Props {\n    onClose: () => void;\n    settings: Settings;\n}\n\nexport const Info = ({onClose, settings}: Props) =>\n    <Menu title=\"Welcome to Towers of Hanoi - Speedrun Edition.\">\n        <p>This is an online version of <Link href=\"https://en.wikipedia.org/wiki/Tower_of_Hanoi\">Towers of Hanoi</Link>,\n            where the controls are optimized for speed.\n            Your goal is to move all disks to the far right stack.\n            You can only move one disk at a time, and you cannot place a larger disk on top of a smaller one.</p>\n        <p>There are two ways to control this game.</p>\n        <h2>Fast (2 keystrokes per move / easy to learn)</h2>\n        <p>\n            Use the number keys to pickup/place disks at the corresponding stack number.\n            For example, to pick up a disk from the first stack and place it on the third stack, press <strong>1</strong> and then <strong>3</strong>.\n        </p>\n        <h2>Super Fast (1 keystroke per move / hard to learn)</h2>\n        <p>Press the following keys to instantly perform the move.</p>\n        <ul>\n            <li><strong>{settings.keyBind21}</strong> - move from stack <strong>2</strong> to stack <strong>1</strong></li>\n            <li><strong>{settings.keyBind12}</strong> - move from stack <strong>1</strong> to stack <strong>2</strong></li>\n            <li><strong>{settings.keyBind13}</strong> - move from stack <strong>1</strong> to stack <strong>3</strong></li>\n            <li><strong>{settings.keyBind31}</strong> - move from stack <strong>3</strong> to stack <strong>1</strong></li>\n            <li><strong>{settings.keyBind32}</strong> - move from stack <strong>3</strong> to stack <strong>2</strong></li>\n            <li><strong>{settings.keyBind23}</strong> - move from stack <strong>2</strong> to stack <strong>3</strong></li>\n        </ul>\n        <p><strong>Note</strong>: Super fast controls are designed for 3 stack games.\n            These key binds can be customized in the settings.</p>\n        <Footer>\n            <span>Made with ♥ by <Link href=\"https://doteye.online\">.i</Link></span>\n            <Button onClick={onClose}>Close</Button>\n            <span>Join the <Link href=\"https://discord.gg/tykwEuuYCt\">Discord</Link></span>\n        </Footer>\n    </Menu>;\n\nconst Link = styled.a.attrs(() => ({\n    target: '_blank',\n}))`\n    color: lightskyblue;\n`;\n\nconst Footer = styled.div`\n    display: flex;\n    align-items: center;\n\n    span {\n        flex-grow: 1;\n        text-align: center;\n    }\n`;\n","import React, {useCallback, useEffect, useRef, useState} from 'react';\nimport {Disk} from './Disk';\nimport {Stack} from './Stack';\nimport {defaultSettings} from '../util/defaultSettings';\nimport {SettingsMenu} from './SettingsMenu';\nimport styled from 'styled-components';\nimport {NavBar} from './NavBar';\nimport {optimalMoves} from '../util/optimalMoves';\nimport {Win} from './Win';\nimport {setHighScore} from '../util/highScore';\nimport {Info} from './Info';\nimport {Moves, Settings} from '../util/types';\nimport {isWinning} from '../util/isWinning';\nimport {MAX_DISK_HEIGHT, MIN_DISK_WIDTH_INCREMENT, TOP_DISK_MARGIN} from '../util/constants';\n\nexport const Game = () => {\n    const [stacks, setStacks] = useState([[0]]);\n    const [holding, setHolding] = useState<{width: number, from: number} | null>(null);\n    const [moves, setMoves] = useState<Moves>([]);\n    const [startTime, setStartTime] = useState<number | null>(null);\n    const [endTime, setEndTime] = useState<number | null>(null);\n    const [settings, setSettings] = useState(defaultSettings);\n    const [settingsShown, setSettingsShown] = useState(false);\n    const [infoShown, setInfoShown] = useState(true);\n    const [timeDifference, setTimeDifference] = useState(0);\n    const [, rerender] = useState(0);\n\n    const stacksRef = useRef<HTMLDivElement>(null);\n\n    const resetGame = useCallback((newSettings: Settings) => {\n        const stacks = [];\n        for (let i = 0; i < newSettings.stacks; ++i) stacks.push([]);\n        stacks[Math.min(newSettings.startStack, newSettings.stacks) - 1] = Array.from({length: newSettings.disks}, (_, i) => i + 1);\n        setStacks(stacks);\n\n        setHolding(null);\n        setStartTime(null);\n        setEndTime(null);\n        setMoves([]);\n    }, []);\n\n    const resetSettings = useCallback(() => {\n        setSettings(defaultSettings);\n        resetGame(defaultSettings);\n    }, [resetGame]);\n\n    const undo = useCallback(() => {\n        const newStacks = [...stacks];\n\n        if (holding) {\n            newStacks[holding.from].unshift(holding.width);\n            setHolding(null);\n        } else {\n            if (moves.length === 0) return;\n            const newMoves = [...moves];\n            const lastMove = newMoves.splice(newMoves.length - 1, 1)[0];\n            newStacks[lastMove.from].unshift(stacks[lastMove.to][0]);\n            newStacks[lastMove.to].shift();\n            setMoves(newMoves);\n        }\n\n        setStacks(newStacks);\n    }, [stacks, holding, moves]);\n\n    const checkForWin = () => {\n        if (isWinning(stacks, settings)) {\n            const now = Date.now();\n            setTimeDifference(setHighScore(settings, now - (startTime ?? now)));\n            setEndTime(now);\n        }\n    };\n\n    const onKeyDown = (event: KeyboardEvent) => {\n        const key = event.key.toLowerCase();\n        if (key === settings.keyReset) {\n            resetGame(settings);\n            return;\n        }\n        if (endTime) return;\n        if (key === settings.keyUndo) {\n            undo();\n            return;\n        }\n\n        const newStacks = [...stacks];\n        const move = (from: number, to: number) => {\n            if (from >= settings.stacks || to >= settings.stacks) return;\n            if (!settings.illegalMoves && stacks[to][0] < newStacks[from][0]) return;\n            const disk = newStacks[from].shift();\n            if (!disk) return;\n            if (moves.length === 0) setStartTime(Date.now());\n            setMoves(moves.concat([{from, to}]));\n            newStacks[to].unshift(disk);\n            setStacks(newStacks);\n            checkForWin();\n        }\n        if (!holding) {\n            if (key === settings.keyBind21) move(1, 0);\n            else if (key === settings.keyBind12) move(0, 1);\n            else if (key === settings.keyBind13) move(0, 2);\n            else if (key === settings.keyBind31) move(2, 0);\n            else if (key === settings.keyBind32) move(2, 1);\n            else if (key === settings.keyBind23) move(1, 2);\n        }\n        const numberKey = Number(key) - 1;\n        if (isNaN(numberKey)) return;\n        if (numberKey < 0 || numberKey >= stacks.length) return;\n        if (holding) {\n            if (!settings.illegalMoves && stacks[numberKey][0] < holding.width) return;\n\n            const newStacks = [...stacks];\n            newStacks[numberKey].unshift(holding.width);\n            setStacks(newStacks);\n            setHolding(null);\n\n            if (holding.from !== numberKey) setMoves(moves.concat([{from: holding.from, to: numberKey}]));\n            checkForWin();\n        } else {\n            setHolding(stacks[numberKey][0] ? {\n                width: stacks[numberKey][0],\n                from: numberKey,\n            } : null);\n            if (moves.length === 0) setStartTime(Date.now());\n\n            const newStacks = [...stacks];\n            newStacks[numberKey].shift();\n            setStacks(newStacks);\n        }\n\n        // Don't allow multiple moves per render.\n        document.removeEventListener('keydown', onKeyDown);\n    };\n\n    const getWidth = (size: number) => {\n        if (!stacksRef.current) return 0;\n        const maxWidth = (stacksRef.current.firstChild as HTMLDivElement).offsetWidth;\n        return settings.disks * MIN_DISK_WIDTH_INCREMENT > maxWidth\n            ? size / settings.disks * maxWidth\n            : size * MIN_DISK_WIDTH_INCREMENT;\n    };\n\n    const getColor = (size: number) => size / settings.disks;\n\n    const resize = () => rerender(x => x + 1);\n\n    useEffect(() => {\n        document.addEventListener('keydown', onKeyDown);\n        window.addEventListener('resize', resize);\n        return () => {\n            document.removeEventListener('keydown', onKeyDown);\n            window.removeEventListener('resize', resize);\n        }\n    });\n\n    // Resize once after initial page load and when settings change.\n    useEffect(resize, [settings]);\n\n    // Load settings on initial page load.\n    useEffect(() => {\n        const rawSettings = window.localStorage.getItem('settings');\n        if (rawSettings) {\n            const newSettings = JSON.parse(rawSettings);\n            setInfoShown(false);\n            setSettings(newSettings);\n            resetGame(newSettings);\n            return;\n        }\n        resetGame(defaultSettings);\n    }, [resetGame]);\n\n    // Save settings on change.\n    useEffect(() => {\n        window.localStorage.setItem('settings', JSON.stringify(settings));\n    }, [settings]);\n\n    const stackWidth = 100 / settings.stacks;\n    const diskHeight = Math.min((window.innerHeight - TOP_DISK_MARGIN) / settings.disks, MAX_DISK_HEIGHT);\n\n    return (\n        <>\n            <NavBar\n                startTime={startTime}\n                endTime={endTime}\n                numMoves={moves.length}\n                optimalMoves={optimalMoves(settings)}\n                settings={settings}\n                undo={undo}\n                reset={resetGame}\n                toggleSettings={() => setSettingsShown(!settingsShown)}\n                toggleInfo={() => setInfoShown(!infoShown)} />\n            {infoShown && <Info onClose={() => setInfoShown(false)} settings={settings} />}\n            {settingsShown && <SettingsMenu\n                settings={settings}\n                setSettings={setSettings}\n                resetSettings={resetSettings}\n                resetGame={resetGame}\n                moves={moves}\n                endTime={endTime} />}\n            {startTime && endTime && <Win moves={moves} settings={settings} startTime={startTime} endTime={endTime} timeDifference={timeDifference} />}\n\n            {settings.blindfold && <Blindfold>[blindfold enabled]</Blindfold>}\n            <Main blindfold={settings.blindfold}>\n                {holding && <Disk $width={getWidth(holding.width)} $height={diskHeight} $color={getColor(holding.width)} $holding>{settings.diskNumbers ? holding.width : <>&nbsp;</>}</Disk>}\n                <Stacks ref={stacksRef}>\n                    {stacks.map((stack, key) =>\n                        <Stack\n                            key={key}\n                            width={stackWidth}\n                            showPeg={settings.showPegs}\n                        >\n                            {stack.map((index, key) => <Disk key={key} $width={getWidth(index)} $height={diskHeight} $color={getColor(index)}>{settings.diskNumbers ? index : <>&nbsp;</>}</Disk>)}\n                        </Stack>\n                    )}\n                </Stacks>\n            </Main>\n        </>\n    );\n};\n\nconst Stacks = styled.div`\n    position: fixed;\n    bottom: 0;\n    width: 100%;\n    pointer-events: none;\n    z-index: -1;\n`;\n\nconst Main = styled.main<{blindfold: boolean}>`\n    visibility: ${p => p.blindfold ? 'hidden' : 'unset'};\n`;\n\nconst Blindfold = styled.h1`\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    margin: 0;\n`;\n","import {Settings} from './types';\nimport {compareObjects} from './compareObjects';\n\nexport const isWinning = (stacks: number[][], settings: Settings) => {\n    const endStack = Math.min(settings.endStack, settings.stacks) - 1;\n    return stacks[endStack].length === settings.disks && compareObjects(\n        stacks[endStack],\n        Array.from({length: settings.disks}, (_, i) => i + 1),\n    );\n};\n","import React, {useEffect} from 'react';\nimport {Game} from './components/Game';\nimport {isMobileOrTablet} from './util/isMobileOrTablet';\n\nexport const App = () => {\n    useEffect(() => {\n        if (isMobileOrTablet()) alert('Heads up: this website uses raw keyboard input. If you are playing on a phone or tablet, you will need to connect a keyboard.');\n    }, []);\n\n    return <Game/>;\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {App} from './App';\nimport './index.css';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App/>\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n"],"sourceRoot":""}